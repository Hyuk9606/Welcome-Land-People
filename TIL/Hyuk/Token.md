## 토큰 기반 인증 방식

- 토큰 기반 인증 방식은 토큰에 **헤더**(암호화 방식, 타입 .. ), **페이로드**(전송할 데이터), **서명**(토큰 검증을 위한 해싱값)을 담아서 이용하는 것
- 데이터가 인코딩(해싱)되어 있는데 누구나 디코딩해 데이터 유출에 대한 피해가 있을 수 있음.
- 단, 서명 필드는 헤더 + 페이로드를 통해 만들기 때문에 데이터 변조 후 재전송하는 것을 막을 수 있음.
- 장점
    - 데이터 변조 후 재전송을 막을 수 있다.
    - stateless 서버를 만들 수 있다.
    - 모바일에서도 잘 동작한다.
    - 인증 정보를 다른 웹 서비스에 전송할 수 있음(OAuth)
- 단점
    - 누구나 디코딩이 가능해 데이터 유출이 발생할 수 있음.
    - 토큰을 탈취당할 경우 대처가 어려움
    - JWT의 경우, 토큰의 길이가 길기 때문에 요청이 많아지면 서버 자원 낭비가 많아짐.

- 일반적으로 토큰은 요청 헤더의 Authorization 필드에 담아져 보내진다.

  `Authorization : <type> <credentials>`

- 인증 타입
    - Basic : 사용자의 아이디와 암호를 Base64로 인코딩한 값을 토큰으로 사용
    - Bearer : JWT 혹은 OAuth에 대한 토큰을 사용
    - Digest : 서버에서 난수 데이터 문자열을 클라이언트에 보냄. 클라이언트는 사용자 정보와 nonce를 포함하는 해시값을 사용하여 응답.
    - HOBA : 전자 서명 기반 인증
    - Mutual : 암호를 이용한 클라이언트 - 서버 상호 인증(draft-ietf-httpauth-mutal)
    - AWS4-HMAC-SHA256 : AWS 전자 서명 기반 인증

  여기서 우리는 JWT와 OAuth를 주로 이용하기 때문에 `Bearer` 타입을 이용하게 될 것입니다 ..


[토근 기반 인증에서 bearer는 무엇일까?](https://velog.io/@cada/%ED%86%A0%EA%B7%BC-%EA%B8%B0%EB%B0%98-%EC%9D%B8%EC%A6%9D%EC%97%90%EC%84%9C-bearer%EB%8A%94-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C)

## JWT와 OAuth 2.0

JWT와 OAuth 2.0는 서로가 추구하는 목적이 다르다.

- OAuth 2.0
    - 하나의 플랫폼의 권한으로 다양한 플랫폼에서 권한을 행사할 수 있게 해줌
    - 발급받는 문자열 토큰에는 아무 의미가 없다.
- JWT
    - Cookie, Session을 대신하여 의미있는 문자열 토큰으로써 권한을 행사할 수 있는 토큰의 한 형식
    - 로그인 세션이나 주고받는 값이 유효한지 검증할 때 주로 쓰임